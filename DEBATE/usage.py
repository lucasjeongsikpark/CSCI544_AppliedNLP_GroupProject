from dataclasses import dataclass

from debate import create_debate_evaluator


math_data = [
    {
    "input":"Janet’s ducks lay 16 eggs per day. She eats three for breakfast every morning and bakes muffins for her friends every day with four. She sells the remainder at the farmers' market daily for $2 per fresh duck egg. How much in dollars does she make every day at the farmers' market?",
    "output":"Janet sells 16 - 3 - 4 = <<16-3-4=9>>9 duck eggs a day.\nShe makes 9 * 2 = $<<9*2=18>>18 every day at the farmer’s market.\n#### 18",
    "llama_output":"To find out how much Janet makes every day at the farmers' market, we need to determine the number of eggs she sells.\n\nFirst, let's calculate the total number of eggs she lays per day: \nJanet's ducks lay 16 eggs per day.\n\nNext, we calculate the total number of eggs she consumes:\nShe eats 3 eggs for breakfast, and bakes muffins using 4 eggs. \nSo, in total, she uses 3 + 4 = 7 eggs per day.\n\nNow, let's find out how many eggs she has left to sell:\nEggs laid per day: 16\nEggs used per day: 7\nEggs left to sell per day: 16 - 7 = 9\n\nSince she sells each egg for $2, we can calculate her daily earnings:\nEggs sold per day: 9\nPrice per egg: $2\nDaily earnings: 9 * $2 = $18\n\n#### [final answer] $18",
    "distill_llama_output":"First, I need to determine how many eggs Janet lays each day. She lays 16 eggs per day.\n\nNext, I'll calculate the number of eggs she uses for her muffins. She uses 4 eggs daily for baking muffins.\n\nThen, I'll find out how many eggs are left after using some for breakfast and baking. Subtracting the 4 eggs used for muffins from the 16 eggs laid gives 12 eggs remaining.\n\nFinally, I'll determine how much money Janet makes from selling the remaining eggs. She sells each egg for $2, so multiplying 12 eggs by $2 per egg results in a total of $24 she makes each day.\n<\/think>\n\nLet's break down the problem step by step to find out how much money Janet makes every day at the farmers' market.\n\n1. **Total Eggs Laid per Day:**\n   \\[\n   16 \\text{ eggs}\n   \\]\n\n2. **Eggs Used for Muffins:**\n   \\[\n   4 \\text{ eggs}\n   \\]\n\n3. **Remaining Eggs After Using for Muffins:**\n   \\[\n   16 \\text{ eggs} - 4 \\text{ eggs} = 12 \\text{ eggs}\n   \\]\n\n4. **Eggs Sold at the Farmers' Market:**\n   \\[\n   12 \\text{ eggs}\n   \\]\n\n5. **Total Money Made per Day:**\n   \\[\n   12 \\text{ eggs} \\times \\$2 \\text{ per egg} = \\$24\n   \\]\n\n#### [final answer]\n\\boxed{24}"
  },
  {
    "input":"A robe takes 2 bolts of blue fiber and half that much white fiber.  How many bolts in total does it take?",
    "output":"It takes 2\/2=<<2\/2=1>>1 bolt of white fiber\nSo the total amount of fabric is 2+1=<<2+1=3>>3 bolts of fabric\n#### 3",
    "llama_output":"To find the total number of bolts needed, we first need to determine the amount of white fiber required.\n\nSince it takes 2 bolts of blue fiber, and half that much white fiber, we divide 2 by 2 to get the amount of white fiber.\n\n2 \/ 2 = 1\n\nSo, it takes 1 bolt of white fiber.\n\nNow, we add the bolts of blue fiber and white fiber to get the total number of bolts.\n\nTotal bolts = 2 (blue) + 1 (white)\nTotal bolts = 3\n\n#### [3]",
    "distill_llama_output":"I need to determine the total number of bolts required to make the robe.\n\nFirst, the robe requires 2 bolts of blue fiber.\n\nNext, it also requires half that amount of white fiber. Half of 2 bolts is 1 bolt.\n\nFinally, I'll add the bolts together: 2 bolts of blue plus 1 bolt of white equals a total of 3 bolts.\n<\/think>\n\nTo determine the total number of bolts needed for the robe, let's break down the requirements step by step.\n\n1. **Blue Fiber:**\n   - The robe requires **2 bolts** of blue fiber.\n\n2. **White Fiber:**\n   - It also requires **half that much** white fiber.\n   - Half of 2 bolts is \\( \\frac{2}{2} = 1 \\) bolt.\n\n3. **Total Bolts:**\n   - **Blue bolts:** 2\n   - **White bolts:** 1\n   - **Total bolts required:** \\( 2 + 1 = 3 \\)\n\n#### [final answer]  \n\\boxed{3}"
  }
]

data = [
    {
    "document":"The Current Status of Telemedicine Technology Use Across the World Health Organization European Region: An Overview of Systematic Reviews\nBackground \n             Several systematic reviews evaluating the use of telemedicine by clinicians, patients, and health authorities to improve the delivery of care in the 53 member states of the World Health Organization (WHO) European Region have been conducted in recent years. However, a study summarizing the findings of these reviews has not been conducted. \n           \n           \n             Objective \n             This overview of systematic reviews aimed to summarize findings regarding the use of telemedicine across the 53 member states and identify the medical fields and levels of care in and at which the effectiveness, feasibility, and applicability of telemedicine have been demonstrated. The barriers to and facilitators of telemedicine use were also evaluated and collated to help with the design and implementation of telemedicine interventions. \n           \n           \n             Methods \n             Through a comprehensive systematic evaluation of the published and unpublished literature, we extracted clinical, epidemiological, and technology-related data from each review included in the study. We focused on evaluating the barriers to and facilitators of the use of telemedicine apps across the 53 member states considered. We rated the methodological quality of each of the included reviews based on A Measurement Tool to Assess Systematic Review 2 approach and judged the overall certainty of evidence by using the Grading of Recommendations, Assessment, Development, and Evaluations methodology. The entire process was performed by 2 independent authors. \n           \n           \n             Results \n             This overview drew on data from >2239 primary studies, with >20,000 enrolled patients in total, within the WHO European Region. On the basis of data from randomized trials, observational studies, and economic evaluations from several countries, the results show a clear benefit of telemedicine technologies in the screening, diagnosis, management, treatment, and long-term follow-up of a series of chronic diseases. However, we were unable to pool the results into a reliable numeric parameter because of the high heterogeneity of intervention methodologies, scheduling, primary study design discrepancies, settings, and geographical locations. In addition to the clinical outcomes of the interventions, the social and economic outcomes are highlighted. \n           \n           \n             Conclusions \n             The application of telemedicine is well established across countries in the WHO European Region; however, some countries could still benefit from the many uses of these digital solutions. Barriers related to users, technology, and infrastructure were the largest. Conversely, the provision of health services using technological devices was found to significantly enhance patients’ clinical outcomes, improve the long-term follow-up of patients by medical professionals, and offer logistical benefits for both patients and health workers. \n           \n           \n             Trial Registration \n             PROSPERO (International Prospective Register of Systematic Reviews) CRD42022309375; https:\/\/www.crd.york.ac.uk\/prospero\/display_record.php?RecordID=309375",
    "input":"-\t29\n-\tMale\n-\tUSA\n\nI’m very confused why different labs have different ranges. For example, for WBC, these are the “normal” ranges by lab -\n\n-\tLabCorp - 3.4-10.8 ([This example report]( is the range listed on my labs, even though [their website]( also says 4.5-11). \n-\tQuest - 3.8-10.8 ([This]( is listed on their website).\n-\t[Most]( [websites]( say between 4-11.\n\nI had a 3.7 at LabCorp (normal for them [in the ranges]( listed on my test) but that’s considered low at Quest and other websites...even LabCorps own [website]( says between a 4.5-11 is normal. \n\nI’m a 4 at Quest (which is normal for their ranges). But that’s still considered low on other websites. \n\nDoes anyone know why this is? And if I need to be concerned or not about my “normal” results that seem to be low?",
    "output":"Nothing to be worried about. Depending upon the exact method and equipment and reagents used, every lab has to calibrate its tests, and decide upon what's \"normal\" for their lab (e.g. the values seen in 95% of their population). Every time they switch reagents, or change suppliers for a kit, or update something else, the normal range may change. (It's like buying the same shirt size from different stores - they are all different sizes even though they are supposed to be the same; or like buying the same color of paint from different paint manufacturers - the exact tint is different).",
    "llama_output":"The discrepancy in white blood cell (WBC) count ranges between different laboratories is due to various factors. Here are some possible reasons:\n\n1. **Methodology and calibration**: Different laboratories use different methods to measure WBC counts, such as automated hematology analyzers. These machines can have varying levels of accuracy and precision, leading to differences in reported ranges.\n2. **Reference intervals**: Laboratories often establish their own reference intervals based on their specific population and testing conditions. These intervals may not be identical to those published on the laboratory's website or in medical literature.\n3. **Instrumentation**: Laboratories use different hematology analyzers, which can have varying levels of precision and accuracy. This can lead to differences in reported WBC counts and reference intervals.\n4. **Quality control and calibration**: Laboratories must participate in external quality assurance programs to ensure their results are accurate and comparable to those of other laboratories. However, these programs may not always align with the laboratory's own reference intervals.\n5. **Population demographics**: Laboratories may establish reference intervals based on their specific population, which can be different from the general population.\n\nRegarding your results, a WBC count of 3.7 at LabCorp is considered low according to their reference interval (3.4-10.8). However, a WBC count of 4 at Quest is also considered low according to their reference interval (3.8-10.8). This suggests that your WBC count is indeed low, but the degree of concern depends on various factors, such as:\n\n1. **Symptoms**: If you're experiencing symptoms like fever, fatigue, or infections, a low WBC count may be a cause for concern.\n2. **Medical history**: Certain medical conditions, such as leukemia or immune disorders, can affect WBC counts.\n3. **Lab results**: If your WBC count is consistently low across multiple tests, it may be a sign of an underlying issue.\n\nTo address your concerns, consider the following:\n\n1. **Discuss with your doctor**: Share your lab results and concerns with your healthcare provider. They can help interpret your results in the context of your medical history and symptoms.\n2. **Follow-up testing**: Your doctor may recommend follow-up testing to confirm the accuracy of your WBC count and to rule out any underlying conditions.\n3. **Monitor your symptoms**: Keep an eye on your symptoms and report any changes to your doctor.\n\nRemember, a low WBC count can be a sign of an underlying issue, but it's not always a cause for concern. Your doctor will help determine the best course of action based on your individual situation.",
    "distill_llama_output":"Okay, so I'm trying to figure out why different labs have different normal ranges for things like WBC count. I'm a bit confused because when I had my labs done, my WBC came out as 3.7 at LabCorp, which is within their range of 3.4-10.8. But when I check other labs like Quest, their range is 3.8-10.8, and most other websites say the normal range is between 4-11. Even LabCorp's own website says the normal range is 4.5-11. So why is my result of 3.7 considered normal at LabCorp but low elsewhere?\n\nFirst, I think I need to understand what normal ranges mean. They're supposed to represent the typical range for healthy individuals, but I guess different labs might use different methods to determine these ranges. Maybe the way they process the blood samples or the reference intervals they use vary. I've heard about something called \"reference ranges\" which can differ between labs because they might use different control groups. So, if LabCorp uses a different control group than Quest, that could explain the difference.\n\nAlso, the method the lab uses to count the WBCs might affect the result. I remember reading that some labs use automated counters which are more precise, while others might use manual methods. If LabCorp uses a more precise method, their range might be slightly different.\n\nAnother thing to consider is the population the lab is referring to. Maybe LabCorp's normal range is based on a more specific group, like healthy individuals in their region, whereas Quest's range is more general. Or perhaps they're catering to different age groups or demographics.\n\nI also wonder if there's something about the time of the test that could affect the results. Like, if I tested in the morning versus the evening, it could influence the WBC count because of diurnal variations.\n\nLooking at my results, at LabCorp, 3.7 is within their range, but it's lower than Quest's lower limit of 3.8. I'm a bit concerned because I thought 3.7 was low, but according to LabCorp, it's normal. Maybe I should look at how much lower my count is compared to the general range. If it's just at the lower end, maybe it's not a big concern. But if it's consistently low across different labs, that might be something to talk to a doctor about.\n\nI should also think about what a WBC of 3.7 means. It's on the lower side, but within normal for LabCorp. Maybe I'm just at the lower end of normal, which isn't necessarily a problem. However, if I have other symptoms or if this is a trend, it might indicate something. I should consider how I feel overall. If I'm feeling healthy and have no other symptoms, maybe it's not a cause for concern. But if I'm experiencing fatigue or other signs of low WBC, I should consult a healthcare provider.\n\nIn the end, I think the key points are that different labs have different reference ranges due to their methods, control groups, and population. My result is within the range provided by LabCorp, but lower than others. It's probably fine unless there are other factors I should consider. I should probably discuss this with my doctor to get a better understanding and see if I need any further testing or if there's any cause for worry.\n<\/think>\n\nThe discrepancy in normal ranges for WBC counts among different labs can be attributed to several factors:\n\n1. **Reference Ranges**: Labs may use different reference ranges based on their control groups, which can vary in demographics, health status, and geographic location.\n\n2. **Testing Methods**: The method used to count WBCs, such as automated versus manual counting, can affect precision and thus influence the normal range.\n\n3. **Population and Demographics**: The normal range may be tailored to specific populations, such as age groups or regional health statistics.\n\n4. **Diurnal Variations**: Biological factors like the time of the test (morning vs. evening) can influence WBC count.\n\nGiven your results:\n- At LabCorp, your WBC of 3.7 is within their range of 3.4-10.8.\n- At Quest, this would be below their lower limit of 3.8.\n- Most other sources suggest a normal range of 4-11.\n\nSince your result is within LabCorp's range, it is considered normal for their reference. However, it is lower than other ranges. Unless you are experiencing symptoms associated with low WBC (e.g., fatigue), there is typically no cause for concern. It's advisable to discuss this with a healthcare provider to assess any underlying factors or trends in your results."
  },
  {
    "document":"Preterminal host dendritic cells in irradiated mice prime CD8+ T cell–mediated acute graft-versus-host disease\nTo understand the relationship between host antigen-presenting cells (APCs) and donor T cells in initiating graft-versus-host disease (GVHD), we followed the fate of host dendritic cells (DCs) in irradiated C57BL\/6 (B6) recipient mice and the interaction of these cells with minor histocompatibility antigen- (miHA-) mismatched CD8 +  T cells from C3H.SW donors. Host CD11c +  DCs were rapidly activated and aggregated in the T cell areas of the spleen within 6 hours of lethal irradiation. By 5 days after irradiation, <1% of host DCs were detectable, but the activated donor CD8 +  T cells had already undergone as many as seven divisions. Thus, proliferation of donor CD8 +  T cells preceded the disappearance of host DCs. When C3H.SW donor CD8 +  T cells were primed in vivo in irradiated B6 mice or ex vivo by host CD11c +  DCs for 24–36 hours, they were able to proliferate and differentiate into IFN-γ–producing cells in β 2 -microglobulin–deficient ( β 2 m –\/– ) B6 recipients and to mediate acute GVHD in  β 2 m –\/–  → B6 chimeric mice. These results indicate that, although host DCs disappear rapidly after allogeneic bone marrow transplantation, they prime donor T cells before their disappearance and play a critical role in triggering donor CD8 +  T cell–mediated GVHD.",
    "input":"If you’re reading this, thank you. It’s been a long, 15 year  journey with my skin issues and I’m feeling hopeless this evening because through it all, I feel like I have made no real progress. \n\nI have acne, and I’m a 33 year old Caucasian female with fair, freckled combination skin. My acne started to get really bad about 10 years ago. I’ve tried numerous skincare routines\/topical treatments. They didn’t work (although I’m not giving up on that front). Was on Minocycline for 2 years which initially worked somewhat, but it started declining in effectiveness after a year and eventually just stopped working entirely. Next, was Doxycycline which gave me the worst, month long yeast infection I’ve ever had and didn’t do much for my skin. \n\nFrom there - I stopped all acne medications for about 6 months in an effort to let my body recover from the 2 years of daily antibiotics, and let my skin go through whatever it needed to go through off meds in hopes it would clear up (naive aspirations...). I was hanging in there after 5 months of being med-free, until I picked up some kind of skin bacteria or fungus when I went camping. I had dry looking red patches on my face and In my scalp that itched. \n\nMy doctor wasn’t exactly sure what it was, but she prescribed me Bactrim. The minute I heard she was prescribing me another stronger antibiotic, I knew right away that it was going to clear my skin and got this guilty, excited feeling like the acne med junkie that I am. Well- I was right....it cleared up the mystery dry itchy spots on my face and hair(although one of the bigger mystery patches left a pretty sizable scar which was jolting), but it also just so happened to clear my entire face better than ANYTHING ever tried before. \n\nFor the first time in 10 years, I had next to 100% clear, glowing skin. It was such a good feeling. I could go makeup free for the first time in my life. The taste of freedom was too good, though... because I basically became addicted to Bactrim. I managed to get a couple more prescriptions for it and have been abusing the medication for 10 months, dragging out these last pills I have by taking half of a 75mg Bactrim (1\/4 of the prescribed daily amount) per day. I know what I’m doing is not healthy or smart and I don’t want to cause a mutant bacteria growth\/resistance within my system so I am stopping, this week. \n\nMy questions are - why are antibiotics the only thing that clears my skin? What does that say about my system and overall health? That I need to work on my gut flora\/General gut health? Even the Bactrim at this point is starting to decline in effectiveness, the same issue with antibiotics in general.\n\nSome more info about my acne: I get all types of blemishes - closed commodones, blackheads, cystic acne and whiteheads, all over my face. The closed comodones are mainly on my forehead and jawline, cystic on my cheeks and cheekbones and also my chin, whiteheads pop up everywhere randomly, and in the last 2 years there’s been a surge of blackheads that come up literally all over my whole face. I’ve never had this many issues before. (The last time I saw my skin at its worst was 10 months ago before I started Bactrim) It got really bad before I started taking Bactrim and I’m dreading what I might be going through again. \n\nIm also worried about scarring - I’m 33 and my skin is not recovering from scarring as well as it used to. Lastly, diet info: I’ve ruled dairy out as a trigger by eliminating it from my diet for 2 months and seeing no improvement. And I am about to do the same with sugar. I’m hoping someone who’s been through something similar will read this and be able to give some guidance or support. If you’ve gotten this far, thank you for reading and good luck to you all on your skin care journeys.",
    "output":"Acne is a chronic disease, and nothing that you do will cure it. You will grow out of the condition eventually -- there are exceptionally few 80 year olds with acne. Drugs like your oral antibiotic are thought to primarily work through inflammation reduction, but the antimicrobial effect may be related. Either way, for some it works ( You may consider a course of isotretinoin. This is the only agent that can induce a remission.",
    "llama_output":"Based on the information provided, it seems like you're experiencing a complex skin issue with multiple types of blemishes, including acne, blackheads, and scarring. Your reliance on antibiotics, specifically Bactrim, to clear your skin is a concern, as it's not a sustainable solution and may lead to antibiotic resistance and other health issues.\n\nThere are a few possible explanations for why antibiotics might be the only thing that clears your skin:\n\n1. **Imbalance in gut flora**: Antibiotics can disrupt the balance of gut bacteria, which may be contributing to your skin issues. This is known as the gut-skin axis. Research suggests that an imbalance of gut bacteria, also known as dysbiosis, can lead to various skin conditions, including acne.\n2. **Overactive immune response**: Acne is often associated with an overactive immune response, which can be triggered by various factors, including hormonal imbalances, stress, and environmental toxins. Antibiotics may be suppressing your immune response, leading to temporary improvements in your skin.\n3. **Inflammation**: Chronic inflammation can contribute to acne and other skin issues. Antibiotics may be reducing inflammation, which is why you're experiencing temporary improvements in your skin.\n\nTo address your concerns and work towards a more sustainable solution, consider the following:\n\n1. **Dietary changes**: You've already ruled out dairy as a trigger, and now you're planning to eliminate sugar from your diet. Consider exploring other potential dietary triggers, such as gluten, soy, or processed foods.\n2. **Probiotics and gut health**: Focus on restoring the balance of your gut bacteria by taking probiotics, eating fermented foods (e.g., kimchi, kefir), and incorporating fiber-rich foods into your diet.\n3. **Topical treatments**: Consider consulting a dermatologist or skincare professional to explore alternative topical treatments that can help control your acne and blackheads.\n4. **Stress management**: Chronic stress can exacerbate skin issues. Engage in stress-reducing activities, such as meditation, yoga, or deep breathing exercises.\n5. **Hormonal balance**: If you're experiencing hormonal imbalances, consider consulting an endocrinologist or a healthcare professional to explore options for regulating your hormones.\n\nRegarding scarring, it's not uncommon for skin to become less resilient with age. However, there are various treatments available to help reduce the appearance of scars, such as topical creams, chemical peels, or laser therapy.\n\nRemember, everyone's skin is unique, and it may take time to find the right combination of treatments that work for you. Be patient, and don't hesitate to seek professional help if you need guidance or support.\n\nAs for the scientific article you provided earlier, it discusses the role of host dendritic cells in triggering graft-versus-host disease (GVHD). While this is a complex immunological phenomenon, it's not directly related to your skin issues. However, it highlights the importance of the immune system in responding to external stimuli, which is relevant to your skin concerns.",
    "distill_llama_output":"Okay, so I'm trying to figure out why antibiotics are the only thing that clears this person's acne. Let me break down the information given. \n\nFirst, the person has been dealing with acne for about 10 years. She's a 33-year-old Caucasian female with fair, freckled combination skin. She's tried various topical treatments and medications like Minocycline and Doxycycline, but they didn't work well in the long term. She stopped taking antibiotics for six months, hoping her skin would recover, but then she got a skin infection while camping, leading to a prescription of Bactrim. This cleared her skin better than anything else, and she became addicted, taking it for 10 months but now is stopping.\n\nHer acne includes closed comedones, blackheads, cystic acne, and whiteheads. She's noticed more blackheads lately and is worried about scarring. She also mentioned that she's tried eliminating dairy from her diet without success and is about to try eliminating sugar.\n\nSo, why do antibiotics work for her? Well, antibiotics target bacteria, which is why they can clear acne. But why do other treatments fail? Maybe her skin has a specific bacterial profile that's resistant to other treatments but responds to antibiotics. Or perhaps her gut health plays a role, as antibiotics can affect the gut flora, which might influence skin health.\n\nShe's considering her gut health and whether improving it could help her skin. That makes sense because the skin and gut are connected via the gut-skin axis. An imbalance in gut bacteria can lead to inflammation, which might contribute to acne. \n\nShe's also worried about scarring and the effectiveness of her skin care routine now that she's stopping antibiotics. Maybe she should look into non-antibiotic treatments, like retinoids, which can help with inflammation and cell turnover. Or perhaps probiotics could help balance her gut flora, reducing systemic inflammation and improving her skin.\n\nShe should also think about her diet. Even though dairy didn't work for her, sugar can cause inflammation, so cutting that out might help. Maybe incorporating more anti-inflammatory foods and omega-3s could be beneficial. She might also benefit from seeing a dermatologist for personalized advice, especially since her acne is severe and she's concerned about scarring.\n\nIn summary, her success with antibiotics suggests a bacterial component to her acne. Addressing her gut health and diet, along with possibly using non-antibiotic skincare products, could help her maintain clearer skin without relying solely on antibiotics.\n<\/think>\n\nThe individual's success with antibiotics in treating her acne suggests that her skin condition may have a bacterial component that responds to antibiotic treatment. However, antibiotics are not a long-term solution due to potential resistance and side effects. Here's a structured approach to address her concerns and improve her skin health:\n\n1. **Understanding the Bacterial Component**: The effectiveness of antibiotics indicates that her acne may be influenced by specific bacteria that other treatments fail to target. This could be a result of a unique bacterial profile in her skin.\n\n2. **Gut Health and Skin Connection**: The gut-skin axis links gut bacteria to skin health. An imbalance in gut flora can contribute to systemic inflammation, which may exacerbate acne. Exploring probiotics or a gut-friendly diet could help reduce inflammation and improve skin health.\n\n3. **Dietary Adjustments**: Eliminating dairy didn't help, but reducing sugar intake could lower inflammation. Incorporating anti-inflammatory foods and omega-3 sources might support skin health.\n\n4. **Non-Antibiotic Treatments**: Consider using retinoids or other topical treatments that address inflammation and cell turnover. These can be used in conjunction with dietary changes to manage her acne without antibiotics.\n\n5. **Consulting a Dermatologist**: Given the severity of her acne and concerns about scarring, consulting a dermatologist for personalized advice could provide effective treatments and strategies for managing her condition.\n\nBy addressing both her gut health and skin care routine, she can work towards maintaining clearer skin while reducing reliance on antibiotics."
  }
]

open_qa_data = [
    {
    "system_prompt":"You are an AI assistant. You will be given a task. You must generate a detailed and long answer.",
    "input":"Answer the following question: Given the background: Middle adulthood lasts from the mid-30s to the mid-60s. During this stage of life, many people raise a family and strive to attain career goals. They start showing physical signs of aging, such as wrinkles and gray hair. Typically, vision, strength and reaction time start declining. Diseases such as type 2 diabetes, cardiovascular or heart disease, and cancer are often diagnosed during this stage of life. These diseases are also the chief causes of death in middle adulthood.  and the situation: David works for the government as a statistician. He had to produce a report for the coming annual meeting. This year he is thinking about a report with some lifestyle suggestions for middle adulthood population. To make it easier to understand the needs of middle adulthood population he would compare it with a group who are in their twenties. He labeled the first group as group A; and the latter group as group B.  Answer the following question: Would group B have faster or slower reaction time than group A?\nAnswer:",
    "output":"It is generally accepted that reaction time tends to decline with age, so it is likely that group B, who are in their twenties, would have faster reaction times than group A, who are in middle adulthood. This is because as people age, their neural processing speed slows down, which can lead to slower reaction times. Additionally, physical changes such as decreased muscle mass and strength can also contribute to slower reaction times in middle adulthood. However, it is important to note that individual differences in lifestyle factors such as exercise, diet, and stress levels can also impact reaction time, so it is possible that some individuals in group A may have faster reaction times than some individuals in group B. Overall, it is reasonable to assume that group B would have faster reaction times on average than group A due to the effects of aging on neural processing speed and physical changes.",
    "llama_output":"To address David's report, we need to consider the physical changes that occur in middle adulthood, as mentioned in the background. One of the notable changes is the decline in physical abilities, including reaction time. \n\nReaction time refers to the time it takes for an individual to respond to a stimulus. It's a complex process that involves the nervous system, muscles, and brain. In young adults, particularly those in their twenties (Group B), the nervous system is highly efficient, and the brain processes information rapidly. This leads to faster reaction times.\n\nIn contrast, middle-aged adults (Group A) experience a decline in reaction time due to several factors. As people age, their nervous system undergoes changes that can slow down reaction times. The brain's processing speed decreases, and the transmission of signals between neurons becomes less efficient. Additionally, the loss of muscle mass and strength, known as sarcopenia, can also contribute to slower reaction times.\n\nResearch has consistently shown that reaction time declines with age. Studies have found that reaction time increases by about 10-20% per decade after the age of 20. This means that individuals in their twenties (Group B) would likely have faster reaction times compared to those in their mid-30s to mid-60s (Group A).\n\nTo provide a more concrete answer, let's consider a study that measured reaction time in individuals of different ages. A study published in the Journal of Gerontology found that:\n\n- Young adults (20-29 years old) had a mean reaction time of around 180-200 milliseconds.\n- Middle-aged adults (40-59 years old) had a mean reaction time of around 220-240 milliseconds.\n- Older adults (60-79 years old) had a mean reaction time of around 260-280 milliseconds.\n\nBased on these findings, it's clear that Group B (individuals in their twenties) would have faster reaction times compared to Group A (middle-aged adults).\n\nIn David's report, he could highlight the importance of maintaining physical fitness and cognitive function to slow down the decline in reaction time. He could also suggest lifestyle modifications, such as regular exercise, a balanced diet, and stress management, to help individuals in middle adulthood maintain their physical abilities and reduce the risk of age-related diseases.\n\nIn conclusion, Group B (individuals in their twenties) would have faster reaction times compared to Group A (middle-aged adults). This difference is due to the natural decline in physical abilities that occurs with aging, including changes in the nervous system, brain processing speed, and muscle mass and strength.",
    "distill_llama_output":"Okay, so I'm trying to figure out whether Group B, which is in their twenties, would have faster or slower reaction times compared to Group A, who are in middle adulthood, like their mid-30s to mid-60s. \n\nFirst, I remember from the background information that middle adulthood is when people start showing physical signs of aging. That includes things like wrinkles, gray hair, and changes in vision, strength, and reaction time. So, the body starts to slow down a bit as people get older. I think reaction time is one of those areas where people might notice a decline.\n\nI also recall that diseases like type 2 diabetes, heart disease, and cancer are common in this middle adulthood stage. These diseases can affect various body systems, including the nervous system, which is responsible for quick reflexes and reactions. So, if someone has these conditions, their reaction time might be slower.\n\nOn the other hand, Group B is in their twenties. That's a time when people are typically in their prime physically. They're probably in good health, with no significant signs of aging yet. Their bodies are functioning optimally, so their reaction times should be quicker because they haven't experienced the natural decline that comes with age.\n\nI also think about how physical activity and overall health play a role. In middle adulthood, people might not be as active as they once were, which could contribute to slower reaction times. In contrast, younger adults in their twenties are likely more active, which can help maintain faster reflexes and reaction times.\n\nAnother point to consider is cognitive function. While the question is specifically about reaction time, it's related to how the brain processes information. Middle-aged individuals might experience some cognitive decline, which can affect reaction times. However, not everyone shows significant cognitive decline in their thirties and forties, but it's more common as people get older.\n\nI should also think about any studies or data that compare reaction times across different age groups. From what I know, reaction time does tend to slow down as people get older. For example, studies show that older adults take longer to react to unexpected situations compared to younger adults. This aligns with the idea that Group B, being younger, would have faster reaction times.\n\nAdditionally, factors like stress, sleep, and nutrition can influence reaction time. People in their twenties might have more consistent energy levels and better sleep patterns, contributing to quicker reactions. Middle-aged individuals might have more varied sleep schedules or higher stress levels from work and family responsibilities, which could slow their reactions down further.\n\nIn summary, considering the physical aging process, decreased strength and reaction time as people move into middle adulthood, and the overall health factors, it makes sense that Group B, being in their twenties, would have faster reaction times compared to Group A.\n<\/think>\n\nGroup B, consisting of individuals in their twenties, would have faster reaction times compared to Group A, who are in middle adulthood. This is due to the natural physical aging process that begins in middle adulthood, leading to a decline in reaction time. Factors such as optimal physical health, higher energy levels, and fewer signs of aging in Group B contribute to their quicker reflexes and reaction times. In contrast, Group A may experience slower reaction times due to aging, decreased strength, and potential health issues affecting the nervous system. Therefore, Group B is expected to have faster reaction times."
  },
  {
    "system_prompt":"You are an AI assistant. You will be given a task. You must generate a detailed and long answer.",
    "input":"Who is allowed to read the guides ?\n\nTranslate to French.",
    "output":"La question « Qui est autorisé à lire les guides ? » se traduit en français par « Qui est autorisé à lire les guides ? ».\n\nPour donner une réponse détaillée et longue : \n\nLes guides, en général, sont des ressources mises à la disposition du public pour fournir des informations, des conseils et des instructions sur divers sujets. Ces sujets peuvent inclure des manuels techniques, des guides de voyage, des tutoriels, etc. Étant donné qu'ils sont conçus pour informer et aider les lecteurs, les guides sont généralement accessibles à tous. Néanmoins, il existe des circonstances dans lesquelles l'accès à certains guides peut être limité ou réservé à un public spécifique.\n\n1. Guides accessibles à tous : La majorité des guides sont destinés au grand public et peuvent être lus par toute personne intéressée par le sujet en question. Ces guides sont souvent disponibles dans les bibliothèques, les librairies, sur Internet, et dans d'autres lieux publics. Ils sont conçus pour être faciles à comprendre et à suivre et conviennent à un large éventail de lecteurs.\n\n2. Guides destinés à un public spécifique : Certains guides sont créés pour répondre aux besoins particuliers de publics spécifiques, comme les professionnels, les chercheurs, ou les étudiants. Ces guides peuvent utiliser un jargon spécifique à un domaine ou aborder des sujets plus complexes qui nécessitent des connaissances préalables. Ils peuvent également être protégés par des droits d'auteur ou être réservés à des membres d'organisations ou d'associations professionnelles. Dans ce cas, seules les personnes appartenant à ce groupe spécifique seraient autorisées à lire ces guides.\n\n3. Guides confidentiels ou classifiés : Il existe également des guides qui contiennent des informations sensibles ou classifiées. Ces guides ne sont accessibles qu'aux personnes ayant les autorisations et les accréditations nécessaires. Par exemple, les guides relatifs à la sécurité nationale, aux secrets d'entreprise, ou aux informations personnelles protégées peuvent être soumis à des restrictions d'accès pour préserver la confidentialité et la sécurité.\n\nEn résumé, qui est autorisé à lire les guides dépend du type de guide et de son contenu. Les guides grand public sont généralement accessibles à tous, tandis que d'autres types de guides peuvent être réservés à des groupes spécifiques ou soumis à des restrictions d'accès pour des raisons de confidentialité ou de sécurité.",
    "llama_output":"La question de l'accès aux guides est une question complexe qui peut varier en fonction du contexte et du type de guides en question. Voici quelques exemples de personnes qui pourraient avoir accès aux guides :\n\n1. **Les professionnels de la formation** : Les instructeurs, les formateurs, les responsables de la formation et les experts dans un domaine spécifique pourraient avoir accès aux guides pour s'assurer que les étudiants reçoivent une formation de qualité.\n2. **Les étudiants** : Les étudiants qui suivent un cours ou une formation pourraient avoir accès aux guides pour comprendre mieux le sujet et obtenir des informations complémentaires.\n3. **Les chercheurs** : Les chercheurs qui travaillent dans un domaine spécifique pourraient avoir accès aux guides pour obtenir des informations de base et des données pour leurs recherches.\n4. **Les professionnels de l'entreprise** : Les employés d'une entreprise qui ont besoin de connaître les procédures et les normes pour fonctionner efficacement pourraient avoir accès aux guides.\n5. **Les utilisateurs finaux** : Les utilisateurs finaux qui ont besoin de connaître comment utiliser un produit ou un service pourraient avoir accès aux guides pour obtenir des informations et des instructions.\n\nIl est important de noter que l'accès aux guides peut être limité à certaines personnes ou groupes en fonction de la sensibilité des informations contenues dans les guides. Par exemple, les guides contenant des informations confidentielles ou des secrets commerciaux pourraient être réservés aux personnes qui ont besoin de les connaître pour leur travail.\n\nEnfin, il est également important de noter que les guides peuvent être accessibles de différentes manières, telles que :\n\n* En ligne : Les guides peuvent être disponibles en ligne et accessible par le biais d'un site web ou d'une plateforme de formation.\n* En papier : Les guides peuvent être disponibles en papier et accessible par le biais d'une imprimante ou d'un distributeur de documents.\n* En format numérique : Les guides peuvent être disponibles en format numérique, tels que des fichiers PDF ou des documents Word, et accessible par le biais d'un ordinateur ou d'un appareil mobile.\n\nEn résumé, l'accès aux guides dépend du contexte et du type de guides en question, mais les professionnels de la formation, les étudiants, les chercheurs, les professionnels de l'entreprise et les utilisateurs finaux sont quelques-uns des groupes qui pourraient avoir accès aux guides.",
    "distill_llama_output":"Okay, so I need to figure out who is allowed to read the guides. Hmm, let's break this down. The user asked about who can access the guides, and the response provided mentions that it's for anyone with an active subscription. \n\nFirst, I should consider who the target audience for these guides might be. They're probably meant for people interested in a specific topic, maybe something technical or educational. The response says \"anyone with an active subscription,\" which suggests that access is restricted to paying members or subscribers. \n\nI wonder if there are different levels of access. Maybe some guides are available to everyone, while others require a subscription. The response doesn't specify, so it's a bit unclear. It also mentions that the content is regularly updated, so perhaps the subscription is needed to ensure that users always have the latest information.\n\nAnother angle is considering if the guides are part of a larger platform, like a website or app, and how access is typically managed there. Usually, platforms require some form of sign-up or subscription to access premium content. So, it's likely that only those who subscribe can read the guides.\n\nI should also think about potential exceptions. Maybe some guides are available for free to attract users, but the in-depth or exclusive content requires a subscription. Or perhaps there's a trial period where users can access some guides without paying.\n\nAdditionally, the response doesn't mention any specific restrictions based on age or other criteria, so I assume it's open to anyone who can subscribe, regardless of age, as long as they meet the subscription requirements.\n\nIn summary, the guides are likely accessible only to individuals who have an active subscription, which implies that non-subscribers might not have full access. The content is probably updated frequently, so the subscription ensures users get the latest information. Without more details, I can't say for sure, but this is the most logical interpretation based on the given response.\n<\/think>\n\nThe guides are accessible to anyone with an active subscription, which typically includes individuals interested in the specific topic covered. The content is regularly updated, suggesting that a subscription may be necessary to ensure access to the latest information. While some introductory guides might be available to everyone, in-depth or exclusive content often requires a subscription. The platform likely manages access through sign-ups or subscriptions, and there are no specific age restrictions. In summary, access is generally limited to subscribers, with content updates ensuring they receive the most current information."
  }
]


@dataclass
class DataFormat:
    context: str
    output_str: str


MED_ASPECTS = [
    "1. Medical Accuracy: Is the information medically sound?",
    "2. Appropriateness: Is the advice appropriate for the described situation?",
    "3. Safety: Does it prioritize patient safety?",
    "4. Clarity: Is the explanation clear and understandable?",
    "5. Professionalism: Does it maintain appropriate professional tone?",
]

MATH_ASPECTS = [
    "1. Correctness: Does it arrive at the correct answer?",
    "2. Reasoning: Is the step-by-step reasoning clear and logical?",
    "3. Completeness: Are all necessary steps shown?",
    "4. Accuracy: Are calculations correct?"
]


OPEN_QA_ASPECTS = [
    "1. Relevance: Does it address the question appropriately?",
    "2. Completeness: Is the response comprehensive and detailed?",
    "3. Accuracy: Is the information correct compared to the reference?",
    "4. Clarity: Is the response well-structured and clear?",
    "5. Helpfulness: Would this response be useful to the user?"
]


def dialogue_evaluation():
    evaluator = create_debate_evaluator(max_iterations=3)

    results = []
    for data_json in open_qa_data:
        for key in ["llama_output", "distill_llama_output"]:
            formatted = DataFormat(context=data_json.get("document", "") + data_json.get("system_prompt", "") + data_json["input"], output_str=data_json.get(key))
            result = evaluator.evaluate_dialogue(
                context=formatted.context,
                response=formatted.output_str,
                aspects=OPEN_QA_ASPECTS
            )
            
            scores = {aspect: res['final_score'] for aspect, res in result.items()}
            avg_score = sum(s for s in scores.values() if s is not None) / len([s for s in scores.values() if s is not None])
            
            results.append({
                'id': data_json.get('id', len(results)),
                'model': key,
                'scores': scores,
                'average_score': avg_score,
                'details': result
            })
    
    evaluator.debate.save_results(results=results, output_file="open_qa_outputs.json")


if __name__ == '__main__':
    dialogue_evaluation()
